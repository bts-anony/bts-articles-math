\documentclass[12pt]{ctexbook}

\usepackage{amsmath}
\usepackage{physics}
\usepackage{tikz}
\usepackage{graphics}
\usepackage{array}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{listing}
\usepackage{amsfonts}
\usepackage{mathrsfs}
\usepackage[backend=bibtex]{biblatex}
\usepackage{xeCJK}

\newtheorem{definition}{definition}
\numberwithin{definition}{section}
\newtheorem{theorem}{theorem}
\numberwithin{theorem}{section}
\newtheorem{exercise}{exercise}
\numberwithin{exercise}{section}
\newtheorem{example}{example}
\numberwithin{example}{section}
\newtheorem{lemma}{lemma}
\numberwithin{lemma}{section}

\begin{document}
    \chapter{度量线性空间}

    \section{对偶向量}

    上一章, 我们对线性空间进行了定义, 这一章, 我们将思考如何对这个空间进行度量.

    先考虑一种最基础的度量, 一个矢量在一个方向上的投影长度, 如果你知道向量, 那你一定知道
    答案就是点乘上这个向量, 无论如何, 都是一个\(\mathcal{V}\)到\(\mathbb{F}\)的映射.

    \begin{definition}
        [对偶向量] 设\(\mathcal{V}\)是一个\(\mathbb{F}\)上的线性空间, 考察所有满足一下性质的\(\mathcal{V} \to \mathbb{F}\)的映射f:
        \begin{equation}
            \forall \lambda \in \mathbb{F}, \boldsymbol{v}, \boldsymbol{u} \in \mathcal{V}, f(\lambda \boldsymbol{v} + \boldsymbol{u}) = \lambda f(\boldsymbol{v}) + f(\boldsymbol{u})
        \end{equation}
        的元素称为\(\mathcal{V}\)的对偶向量, 全体对偶向量构成集合\(\mathcal{V}^*\).
    \end{definition}

    这和投影的测量很像, 因为往一个方向投影也满足如上性质.

    \begin{definition}
        [对偶空间] 设\(\mathcal{V}\)是一个\(\mathbb{F}\)上的线性空间, 在\(\mathcal{V}^*\)上定义加法与数乘
        \begin{equation}
            \forall \boldsymbol{f}, \boldsymbol{g} \in \mathcal{V}^*, \boldsymbol{v} \in \mathcal{V}, (\boldsymbol{f} + \boldsymbol{g}) (\boldsymbol{v}) = \boldsymbol{f}(\boldsymbol{v}) + \boldsymbol{g}(\boldsymbol{v})
        \end{equation}
        \begin{equation}
            \forall \lambda \in \mathbb{F}, \boldsymbol{f} \in \mathcal{V}^*, \boldsymbol{v} \in \mathcal{V}, (\lambda \boldsymbol{f})(\boldsymbol{v}) = \lambda \boldsymbol{f}(\boldsymbol{v})
        \end{equation}
        那么\(\mathcal{V}^*\)构成一个线性空间, 称为\(\mathcal{V}\)的对偶空间, 其维数显然等于\(\mathcal{V}\).
    \end{definition}
    
    上一章我们好不容易把向量表示出来了, 我们肯定要好好利用表示.

    于是假设\(\mathcal{V}\)上有一组基\(\boldsymbol{e}_i\), 可以在对偶空间\(\mathcal{V}^*\)
    上找到一组对偶基, 用上标表示\(\boldsymbol{e}^i\), 满足\(\boldsymbol{e}^i\boldsymbol{e}_j = \delta^i_j\)\footnotemark{}
    \footnotetext{\(\delta^i_j\)是常见的符号, 表示当\(i=j\)时为1, 否则为0.}

    我们来考虑给定\(\boldsymbol{e}_i\)的映射\(\boldsymbol{e}_i : \boldsymbol{f} \mapsto \boldsymbol{f}(\boldsymbol{e}_i)\), 这个映射
    使得\(\mathcal{V}\)构成在\(\mathcal{V}^*\)上的对偶空间, 给出了一个优美的对称.

    \section{内积}

    但是, 对偶空间相对于\(\mathcal{V}\)来说, 相当于人工制造的概念, 我们所接触的向量
    通常是在\(\mathcal{V}\)上的, 而不是在\(\mathcal{V}^*\)上的, 所以我们需要一个
    从\(\mathcal{V}\)到\(\mathcal{V}^*\)的映射.

    \begin{definition}
        [度规] 我们认为从\(\mathcal{V}\)到\(\mathcal{V}^*\)的映射\(\boldsymbol{f} \mapsto \boldsymbol{f}(\boldsymbol{v})\)是线性的, 那么可以如此表示这个映射:
        \begin{equation}
            \boldsymbol{e}^i = \sum_{j} \eta^{ij} \boldsymbol{e}_j
        \end{equation}
        其中\(\eta^{ij}\)的\(ij\)是上标, 对称的, 我们有
        \begin{equation}
            \boldsymbol{e}_i = \sum_{j} \eta_{ij} \boldsymbol{e}^j
        \end{equation}
        那么\(\eta^{ij},\eta_{ij}\)就称作度规, 有时也用\(g\)表示, 有了度规以后, \(\mathcal{V}\)和\(\mathcal{V}^*\)就有了个同构.

        那么每个\(\mathcal{V}\)的向量, 也是\(\mathcal{V}^*\)上的向量.
    \end{definition}

    观察上面两个式子, 你很惊喜的发现, 第一个式子, 左边有一个上标, 右边有两个上标一个下标, 第二个式子, 左边
    有一个下标, 右边有两个下标一个上标, 如果上下标相抵消, 那么左右两边的上下标个数就一样了.

    我们把矢量\(\boldsymbol{v}\)(无标记) 可以认为是两个空间\(\mathcal{V}\)和\(\mathcal{V}^*\)的元素, 为了对称, 也可以变成上下标一样的形式, 用\(v^i\)表示, 那么
    \begin{equation}
        \boldsymbol{v} = \sum_{i} v^i \boldsymbol{e}_i
    \end{equation}
    对称的
    \begin{equation}
        \boldsymbol{v} = \sum{i} v_i \boldsymbol{e}^i
    \end{equation}

    但是显然, 这两个式子并不独立, 由于有度规的存在, 带入立证

    \begin{equation}
        v^i = \sum_{j} \eta^{ij} v_j
    \end{equation}

    \begin{equation}
        v_i = \sum_{j} \eta_{ij} v^j
    \end{equation}

    我们发现一堆\(\sum\)写起来非常烦躁, 于是在不引起歧义的情况下, 我们可以采用爱因斯坦记号,
    忽略一个对仅仅出现在等式一边的上下标各一次的指标的\(\sum\)符号.\footnotemark{}
    \footnotetext{上下标的意义体现了我们在表达一个向量时, 用了多少的对偶空间和该空间的基矢量.}

    \begin{exercise}
        展开成求和式子, 并证明
        \begin{equation}
            \eta^{ij} \eta_{jk} = \delta^i_k
        \end{equation}
    \end{exercise}

    度规是你所取到的基在度量中的基本性质, 有了度规, 我们就能够定义内积, 内积是用来衡量一个向量的长度的.

    \begin{definition}
        [内积] 给定度规\(\eta^{ij}\), 我们定义内积\(\boldsymbol{v} \cdot \boldsymbol{u}\)为
        \(\eta^{ij} v_i u_j\), 考虑到\(\boldsymbol{v} \cdot \boldsymbol{u} = \boldsymbol{u} \cdot \boldsymbol{v}\)
        \(\eta^{ij}\)应该是对称的, 也就是\(\eta^{ij} = \eta^{ji}\).

        一般线性代数书提及的内积, 要求\(\eta^{ij}\)是正定的, 也就是对于任意的\(\boldsymbol{v}\), 我们有
        \(\boldsymbol{v} \cdot \boldsymbol{v} \geq 0\), 但是我们暂时先不考虑正负的问题.

        复数情况稍稍有点特殊, 其内积定义为\(\boldsymbol{v} \cdot \boldsymbol{u} = \eta^{ij} \overline{v_i} u_j\)这一方面将在以后考虑.
    \end{definition}

    \begin{example}
        [笛卡尔坐标系的内积] 在笛卡尔坐标系中, 我们有基矢量正交, 就是\(\boldsymbol{e}_i \boldsymbol{e}_j = \delta^i_j\)
        对应的度规是
        \begin{equation}
            \eta^{ij} = \delta^i_j = \begin{bmatrix}
                1 & 0 & 0 \\
                0 & 1 & 0 \\
                0 & 0 & 1
            \end{bmatrix}
        \end{equation}
    \end{example}

    \begin{example}
        [SR 的内积] 在 SR 中, 有一个不变的标量\(c^2t^2 - x^2 - y^2 - z^2\), 对应了一个度规
        \begin{equation}
            \eta^{ij} = \begin{bmatrix}
                c^2 & 0 & 0 & 0 \\
                0 & -1 & 0 & 0 \\
                0 & 0 & -1 & 0 \\
                0 & 0 & 0 & -1
            \end{bmatrix}
        \end{equation}
    \end{example}

    \begin{exercise}
        考虑所有\([a,b] \to \mathbb{C}\)上的连续函数, 可以定义内积
        \begin{equation}
            f \cdot g = \int_{a}^{b}f(x)g(x)dx
        \end{equation}
        则构成一个有内积的线性空间.

        如果取\(\boldsymbol{e}_i = \exp {(\frac{2i\pi}{b-a}x)}\), 求对应的度规.
    \end{exercise}

    \section{外积}

    学过矢量的你一定知道叉乘吧, 叉乘满足如下性质

    \begin{enumerate}
        \item 反对称\(\vec{a} \times \vec{b} = - \vec{a} \times \vec{b}\)
        \item 分配律\(\vec{a} \times (\vec{b} + \vec{c}) = \vec{a} \times \vec{b} + \vec{a} \times \vec{c}\)
        \item 分配律\((\vec{a} + \vec{b}) \times \vec{c} = \) \(\vec{a} \times \vec{c} + \vec{b} \times \vec{c}\)
    \end{enumerate}

    我们试图对\(n\)维线性空间\(\mathcal{V}\)上也定义一个外积, 同样也要满足上述性质.

    但是考虑四维空间, 我们惊喜的发现有六个独立的分量\(\boldsymbol{e}_{12}\), \(\boldsymbol{e}_{13}\), 
    \(\boldsymbol{e}_{14}\), \(\boldsymbol{e}_{23}\), \(\boldsymbol{e}_{24}\), \(\boldsymbol{e}_{34}\),
    而不是三维空间那样子, 所以我们要引入张量.

    \begin{definition}
        [张量] 考虑\(m\)维线性空间\(\mathcal{V}\)上再构造一个线性空间\(\mathcal{W}\), 
        使得由\(n\)个\(\mathcal{V}\)上的矢量组\(\boldsymbol{v}_1, \boldsymbol{v}_2, \ldots, \boldsymbol{v}_n\)
        (记作\(\boldsymbol{v}_1 \boldsymbol{v}_2 \ldots \boldsymbol{v}_n\))
        是\(\mathcal{W}\)的元素, 且满足分配律
        \begin{equation}
            \boldsymbol{v}_1 \boldsymbol{v}_2 \cdots (\boldsymbol{v}_m + \boldsymbol{u}) \cdots \boldsymbol{v}_n = 
            \boldsymbol{v}_1 \boldsymbol{v}_2 \cdots \boldsymbol{v}_m \cdots \boldsymbol{v}_n + \boldsymbol{v}_1 \boldsymbol{v}_2 \cdots \boldsymbol{u} \cdots \boldsymbol{v}_n
        \end{equation}
        我们称\(\mathcal{W}\)是\(\mathcal{V}\)上的\(n\)阶张量, \(n\)阶张量是\(m^n\)维的.
    \end{definition}

    我们也可以建立对张量的表示\(\boldsymbol{T} = T_{i_1 i_2 \ldots i_n} \boldsymbol{e}^{i_1}\boldsymbol{e}^{i_2}\ldots\boldsymbol{e}^{i_n}\)

    \begin{example}
        [SR 电磁场张量] 电磁场场强构成一个张量, 其分量为:
        \begin{equation}
            F_{ij} = \begin{bmatrix}
                0 & E_x & E_y & E_z \\
                -E_x & 0 & -B_z & B_y \\
                -E_y & B_z & 0 & -B_x \\
                -E_z & -B_y & B_x & 0
            \end{bmatrix}
        \end{equation}
    \end{example}

    张量可以提升下降指标, 只需要如同矢量一样乘以对应的度规就行.

    \begin{equation}
        T_{ij} = \eta_{ik} T^k_j = \eta_{ik} \eta_{jl} T^{kl}
    \end{equation}

    \begin{equation}
        T^{ij} = \eta^{ik} T_{kj} = \eta^{ik} \eta^{jl} T_{kl}
    \end{equation}

    \begin{exercise}
        [SR 电磁场的能量密度] 电磁场的能量密度为\(\frac{1}{16\pi c}F_{ij}F^{ij}\)

        用常见的\(\vec{E},\vec{B}\)表示它.\footnotemark{}
    \end{exercise}

    \footnotetext{不考虑可能存在的系数问题.}

    有了张量, 我们就可以定义外积了.

    \begin{definition}
        [外积] 从线性空间\(\mathcal{V}\)出发, 构造一个线性空间\(\mathcal{W}\),
        使得由\(n\)个\(\mathcal{V}\)上的矢量组\(\boldsymbol{v}_1, \boldsymbol{v}_2, \ldots, \boldsymbol{v}_n\)
        (记作\(\boldsymbol{v}_1 \wedge \boldsymbol{v}_2 \wedge \ldots \wedge \boldsymbol{v}_n\))是\(\mathcal{W}\)的元素, 且满足分配律, 反交换律
        \begin{equation}
            \boldsymbol{v}_1 \wedge \boldsymbol{v}_2 \wedge \cdots (\boldsymbol{v}_m + \boldsymbol{u}) \wedge \cdots \boldsymbol{v}_n = 
            \boldsymbol{v}_1 \wedge \boldsymbol{v}_2 \wedge \cdots \boldsymbol{v}_m \wedge \cdots \boldsymbol{v}_n + \boldsymbol{v}_1 \wedge \boldsymbol{v}_2 \wedge \cdots \boldsymbol{u} \wedge \cdots \boldsymbol{v}_n
        \end{equation}
        \begin{equation}
            \boldsymbol{v}_1 \wedge \boldsymbol{v}_2 \wedge \cdots \boldsymbol{v}_p \cdots \boldsymbol{v}_q \cdots \wedge \boldsymbol{v}_n = 
            - \boldsymbol{v}_1 \wedge \boldsymbol{v}_2 \wedge \cdots \boldsymbol{v}_q \cdots \boldsymbol{v}_p \cdots \wedge \boldsymbol{v}_n
        \end{equation}
    \end{definition}

    每个外积对应全反对称张量, 这是易于理解的.

    \begin{exercise}
        [叉乘] 如果认为\(\boldsymbol{e}_1 \wedge \boldsymbol{e}_2 = \boldsymbol{e}_3\),
        \(\boldsymbol{e}_2 \wedge \boldsymbol{e}_3 = \boldsymbol{e}_1\) 和 \(\boldsymbol{e}_3 \wedge \boldsymbol{e}_1 = \boldsymbol{e}_2\),
        检查和外积和叉乘是一种东西.
    \end{exercise}

    考虑物理里的情况吧, 有叉积的情况, 如磁场, 力矩, 总是联系到另一个叉积, 洛伦兹力, 力矩, 所以尽管有上述对应, 实际上还是不同.

    更深入的内容将在更难的几何学里遇到.

    外积对应的是面积, 体积, 超体积等超过长度的度量.

    \begin{exercise}
        [体积] 三维空间中有平行六面体, 证明体积为\(\frac{1}{6} \boldsymbol{v}_1 \wedge \boldsymbol{v}_2 \wedge \boldsymbol{v}_3\).
        其形式上等同于混合积.
    \end{exercise}

    最后, 我们来考虑从\(\mathbb{F}\)上线性空间\(\mathcal{V}\)到线性空间\(\mathcal{W}\)的线性映射.
    
    从线性空间\(\mathcal{V}\)到线性空间\(\mathcal{W}\)的线性映射
    \begin{equation}
        \boldsymbol{f}: \mathcal{V} \to \mathcal{W}
    \end{equation}
    是一个线性函数, 使得
    \begin{equation}
        \boldsymbol{f}(\boldsymbol{v}_1 + \boldsymbol{v}_2) = \boldsymbol{f}(\boldsymbol{v}_1) + \boldsymbol{f}(\boldsymbol{v}_2)
    \end{equation}
    \begin{equation}
        \boldsymbol{f}(\alpha \boldsymbol{v}) = \alpha \boldsymbol{f}(\boldsymbol{v})
    \end{equation}
    对于任意的\(\boldsymbol{v}_1, \boldsymbol{v}_2 \in \mathcal{V}\)和任意的\(\alpha \in \mathbb{R}\).

    可以认为, 是\(\mathcal{V}^*\)和\(\mathcal{W}\)的一个``张量'',
    这个张量有\(\dim {\mathcal{V}} \times \dim {\mathcal{W}}\)个元素, 而且长得像一个表.

    简化研究, 只考虑这些元素的大小, 我们就留下了\(\dim {\mathcal{V}} \times \dim {\mathcal{W}}\)个数, 称为矩阵.
\end{document}